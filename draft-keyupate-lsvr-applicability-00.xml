<?xml version="1.0"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!-- One method to get references from the online citation libraries.
     There has to be one entity for each item to be referenced. 
     An alternate method (rfc include) is described in the references. -->
<!ENTITY RFC2119 SYSTEM
  "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC2328 SYSTEM
  "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2328.xml">
<!ENTITY RFC4271 SYSTEM
  "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4271.xml">
<!ENTITY RFC2328 SYSTEM
  "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2328.xml">
<!ENTITY RFC5580 SYSTEM
  "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5580.xml">
<!ENTITY RFC4957 SYSTEM
  "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4957.xml">
<!ENTITY I-D.draft-keyupate-bgp-spf SYSTEM
  "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.draft-keyupate-idr-bgp-spf-04.xml">
]>

<?rfc comments="yes"?>
<?rfc compact="no"?>
<?rfc inline="yes"?>
<?rfc sortrefs="yes"?>
<?rfc subcompact="no"?>
<?rfc symrefs="yes"?>
<?rfc toc="yes"?>
<?rfc tocdepth="5"?>
<?rfc tocindent="yes"?>
<?rfc tocompact="yes"?>

<rfc category="info" docName="draft-keyupate-lsvr-applicability-00.txt"
     ipr="trust200902">

  <front>

    <title abbrev="">Usage and Applicatbility of Link State Vector Routing in DataCenters  </title>

    <author fullname="XXX" initials="X"
            surname="XXX">
      <organization>XXX</organization>
      <address>
        <postal>
          <street>XXX</street>
          <city>San Jose</city>
          <country>CA</country>
          <code></code>
        </postal>
        <phone></phone>
        <email>XXX@arrcus.com</email>
      </address>
    </author>

    <date month="March" year="2018" />

    <area>Routing</area>

    <workgroup>LSVR</workgroup>
    
    <abstract>
      <t>
	This document discusses the usage and applicability of Link State Vector Routing 
	(LSVR) extensions in the CLOS architecture of DataCenter Networks. The document is
	intended to provide a simplified guide for the deployment of LSVR extensions.
      </t>
    </abstract>

  </front>

  <middle>
    <section anchor="intro" title="Introduction">

      <t>
	This document complements [I-D.draft-keyupate-bgp-spf] by
	discussing the applicability of the technology in a simple and fairly common 
	deployment scenario, which is described in <xref target="usecases"/>.
      </t>

      <t>
	After describing the deployment scenario, <xref target="requirements"/>
	will describe the control plane routing protocols requirments for such deployments.
      </t>
      
      <t>
	Once the control plane routing protocol requirements are described, the following
	<xref target="bgpspf"/> will cover the protocol enhancements needed by LSVR
	to BGP to meet these requirements and its applicability to the CLOS networks.
      </t>

    </section>


    <section title="Requirements Language">
      <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
	NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
	"OPTIONAL" in this document are to be interpreted as described in
	<xref target="RFC2119"/> only when they appear in all upper
	case.  They may also appear in lower or mixed case as English
	words, without any normative meaning.</t>
    </section>


    <section anchor="reco" title="Recommended Reading">
      <t>
	This document assumes knowledge of existing data center networks and data center
	network topologies <xref target="CLOS"/>. This document also assumes
	knowledge of data center routing protocols like
	BGP <xref target="RFC4271"/>, BGP-SPF [I-D.draft-keyupate-bgp-spf],
	OSPF <xref target="RFC2328"/> and
	data center layer 2 link layer protocols like LLDP <xref target="RFC4957"/>
	and BFD <xref target="RFC5580"/>.
      </t>


    </section>


    <section anchor="usecases" title="Common Deployment Scenario">
      <t>
	Within a DataCenter, a common network design to interconnect servers is done using the CLOS
	topology <xref target="CLOS"/>. The CLOS topology is fully non blocking and the topology is
	utilized using
	Equal Cost Multipaths (ECMPs). In a CLOS topology, the minimum number of parallel paths
	between two servers is determined by the width of a tier-1 stage as shown in the figure1. 
      </t>

      <t>
	The following example illustrates multistage CLOS topology.
      </t>

      <figure align="center" anchor="fig1" title="Illustration of the basic CLOS">
	<artwork align="left"><![CDATA[

                                   Tier-1
                                  +-----+
                                  |NODE |
                               +->| 12  |--+
                               |  +-----+  |
                       Tier-2  |           |   Tier-2
                      +-----+  |  +-----+  |  +-----+
        +------------>|NODE |--+->|NODE |--+--|NODE |-------------+
        |       +-----|  9  |--+  | 10  |  +--| 11  |-----+       |
        |       |     +-----+     +-----+     +-----+     |       |
        |       |                                         |       |
        |       |     +-----+     +-----+     +-----+     |       |
        | +-----+---->|NODE |--+  |NODE |  +--|NODE |-----+-----+ |
        | |     | +---|  6  |--+->|  7  |--+--|  8  |---+ |     | |
        | |     | |   +-----+  |  +-----+  |  +-----+   | |     | |
        | |     | |            |           |            | |     | |
      +-----+ +-----+          |  +-----+  |          +-----+ +-----+
      |NODE | |NODE | Tier-3   +->|NODE |--+   Tier-3 |NODE | |NODE |
      |  1  | |  2  |             |  3  |             |  4  | |  5  |
      +-----+ +-----+             +-----+             +-----+ +-----+
        | |     | |                                     | |     | |
        A O     B O            <- Servers ->            Z O     O O

        ]]></artwork>
      </figure>


    </section>


    <section anchor="requirements" title="Requirements of a DataCenter Routing Protocol">
      <t>
	Following are general requirements for the Data Center routing protocols. Most datacenter
	uses BGP as a routing protocol to create an overlay as well as an underlay network for their CLOS
	Topologies. However, BGP is a path vector routing protool. Since it
	does not have a way for creating a CLOS topology, it uses hop-by-hop EBGP peering to
	facilitate hop-by-hop routing and for resolving any overlay nexthops. The hop-by-hop BGP peering imposes two
	restrictions within a CLOS. It severly prohibits a deployment of Route Reflectors/Route
	Controllers as the EBGP peerings are inlined to the datapath. The bestpath algorithm of BGP is 
	prefix based and prevents announcements of prefixes unless the bestpath is executed for the prefix.
	Both these restrictions has impact on overall convergence of the CLOS networks.
      </t>

    </section>

    <section anchor="bgpspf" title="LSVR and its applicabity to CLOS">
      <t>

      </t>

    </section>



    <section anchor="IANA" title="IANA Considerations">
      
      <t>
	No updates to the registries are suggested by this document
      </t>
      
    </section>
    
    <section anchor="Security" title="Security Considerations">
      <t>
	This document introduces no new security considerations above
	and beyond those already specified in the <xref target="RFC4271"/>.
      </t>
      
    </section>
    
    <section anchor="Acknowledgements" title="Acknowledgements">
      <t>
      </t>
    </section>
    
    <section anchor="log" title="Change Log">
      <t><list style="hanging">
          <t hangText="Initial Version:">March 1 2018</t>
      </list></t>
    </section>
  </middle>
  
  <back>

    <references title="Normative References">
      <?rfc include="reference.RFC.2119"?>


   </references>

    <references title="Informative References">
      <?rfc include="reference.RFC.4271"?>
      <?rfc include="reference.RFC.2328"?>
      <?rfc include="reference.RFC.5580"?>
      <?rfc include="reference.RFC.4957"?>
      &I-D.draft-keyupate-bgp-spf;
      <reference anchor="CLOS" target="">
        <front>
          <title>A Study of Non-Blocking Switching Networks</title>

	  <author initials="" surname="">
            <organization></organization>
          </author>
          <date month='March' year='1953' />
        </front>
        <seriesInfo name='' value='The Bell System Technical Journal, Vol. 32(2),
				   DOI 10.1002/j.1538-7305.1953.tb01433.x' />
      </reference>

    </references>
  </back>
</rfc>
